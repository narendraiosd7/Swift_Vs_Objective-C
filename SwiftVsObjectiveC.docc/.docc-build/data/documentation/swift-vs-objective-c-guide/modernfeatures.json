{"abstract":[{"text":"Exploring Swift’s cutting-edge features that have no equivalent in Objective-C.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/com.example.swiftvsobjc\/documentation\/Swift-vs-Objective-C-Guide"]]},"kind":"article","metadata":{"roleHeading":"Article","role":"article","title":"Modern Swift Features"},"primaryContentSections":[{"content":[{"anchor":"Overview","text":"Overview","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Swift continues to evolve with modern programming language features that enable new patterns and improve code quality. These features represent the future of iOS development and showcase Swift’s commitment to innovation."}],"type":"paragraph"},{"anchor":"AsyncAwait-Concurrency","text":"Async\/Await Concurrency","type":"heading","level":2},{"anchor":"Swift-Modern-Concurrency-Model","text":"Swift: Modern Concurrency Model","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["\/\/ Async functions","func fetchUserData(id: Int) async throws -> User {","    let url = URL(string: \"https:\/\/api.example.com\/users\/\\(id)\")!","    let (data, _) = try await URLSession.shared.data(from: url)","    return try JSONDecoder().decode(User.self, from: data)","}","","func fetchUserPosts(userID: Int) async throws -> [Post] {","    let url = URL(string: \"https:\/\/api.example.com\/users\/\\(userID)\/posts\")!","    let (data, _) = try await URLSession.shared.data(from: url)","    return try JSONDecoder().decode([Post].self, from: data)","}","","\/\/ Concurrent execution","func loadUserProfile(id: Int) async throws -> UserProfile {","    \/\/ Both requests run concurrently","    async let user = fetchUserData(id: id)","    async let posts = fetchUserPosts(userID: id)","    ","    \/\/ Wait for both to complete","    let userData = try await user","    let userPosts = try await posts","    ","    return UserProfile(user: userData, posts: userPosts)","}","","\/\/ Task groups for dynamic concurrency","func loadMultipleUsers(ids: [Int]) async throws -> [User] {","    return try await withThrowingTaskGroup(of: User.self) { group in","        \/\/ Add tasks to the group","        for id in ids {","            group.addTask {","                try await fetchUserData(id: id)","            }","        }","        ","        \/\/ Collect results","        var users: [User] = []","        for try await user in group {","            users.append(user)","        }","        return users","    }","}","","\/\/ Usage in SwiftUI or other contexts","@MainActor","class UserViewModel: ObservableObject {","    @Published var users: [User] = []","    @Published var isLoading = false","    ","    func loadUsers() {","        isLoading = true","        ","        Task {","            do {","                let userIDs = [1, 2, 3, 4, 5]","                self.users = try await loadMultipleUsers(ids: userIDs)","            } catch {","                print(\"Failed to load users: \\(error)\")","            }","            ","            self.isLoading = false","        }","    }","}"]},{"anchor":"Objective-C-Traditional-Callback-Pattern","text":"Objective-C: Traditional Callback Pattern","type":"heading","level":3},{"syntax":"objective-c","type":"codeListing","code":["\/\/ Traditional completion handler pattern","- (void)fetchUserDataWithID:(NSInteger)userID ","                 completion:(void(^)(User * _Nullable user, NSError * _Nullable error))completion {","    NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:@\"https:\/\/api.example.com\/users\/%ld\", (long)userID]];","    ","    NSURLSessionDataTask *task = [[NSURLSession sharedSession] dataTaskWithURL:url","                                                             completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {","        if (error) {","            completion(nil, error);","            return;","        }","        ","        \/\/ Manual JSON parsing...","        NSError *jsonError;","        NSDictionary *json = [NSJSONSerialization JSONObjectWithData:data options:0 error:&jsonError];","        if (jsonError) {","            completion(nil, jsonError);","            return;","        }","        ","        User *user = [[User alloc] initWithDictionary:json];","        completion(user, nil);","    }];","    ","    [task resume];","}","","\/\/ Nested callbacks for sequential operations","- (void)loadUserProfileWithID:(NSInteger)userID ","                   completion:(void(^)(UserProfile * _Nullable profile, NSError * _Nullable error))completion {","    ","    [self fetchUserDataWithID:userID completion:^(User *user, NSError *error) {","        if (error) {","            completion(nil, error);","            return;","        }","        ","        [self fetchUserPostsWithUserID:userID completion:^(NSArray<Post *> *posts, NSError *postsError) {","            if (postsError) {","                completion(nil, postsError);","                return;","            }","            ","            UserProfile *profile = [[UserProfile alloc] initWithUser:user posts:posts];","            completion(profile, nil);","        }];","    }];","}"]},{"anchor":"Property-Wrappers","text":"Property Wrappers","type":"heading","level":2},{"anchor":"Swift-Reusable-Property-Logic","text":"Swift: Reusable Property Logic","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["\/\/ Custom property wrapper","@propertyWrapper","struct Capitalized {","    private var value: String = \"\"","    ","    var wrappedValue: String {","        get { value }","        set { value = newValue.capitalized }","    }","}","","@propertyWrapper","struct Clamped<Value: Comparable> {","    private var value: Value","    private let range: ClosedRange<Value>","    ","    init(wrappedValue: Value, _ range: ClosedRange<Value>) {","        self.range = range","        self.value = max(range.lowerBound, min(range.upperBound, wrappedValue))","    }","    ","    var wrappedValue: Value {","        get { value }","        set { value = max(range.lowerBound, min(range.upperBound, newValue)) }","    }","}","","@propertyWrapper","struct UserDefault<T> {","    let key: String","    let defaultValue: T","    ","    var wrappedValue: T {","        get {","            UserDefaults.standard.object(forKey: key) as? T ?? defaultValue","        }","        set {","            UserDefaults.standard.set(newValue, forKey: key)","        }","    }","}","","\/\/ Using property wrappers","struct User {","    @Capitalized var firstName: String","    @Capitalized var lastName: String","    @Clamped(0...100) var age: Int","}","","class AppSettings {","    @UserDefault(key: \"username\", defaultValue: \"\")","    var username: String","    ","    @UserDefault(key: \"theme\", defaultValue: \"light\")","    var theme: String","    ","    @UserDefault(key: \"notifications\", defaultValue: true)","    var notificationsEnabled: Bool","}","","\/\/ Usage","var user = User(firstName: \"john\", lastName: \"doe\", age: 25)","print(\"\\(user.firstName) \\(user.lastName)\")  \/\/ \"John Doe\"","","user.age = 150  \/\/ Automatically clamped to 100","print(user.age)  \/\/ 100","","let settings = AppSettings()","settings.username = \"alice\"  \/\/ Automatically saved to UserDefaults"]},{"anchor":"Objective-C-Manual-Property-Management","text":"Objective-C: Manual Property Management","type":"heading","level":3},{"syntax":"objective-c","type":"codeListing","code":["\/\/ Must manually implement property logic","@interface User : NSObject","@property (nonatomic, strong) NSString *firstName;","@property (nonatomic, strong) NSString *lastName;","@property (nonatomic, assign) NSInteger age;","@end","","@implementation User","","- (void)setFirstName:(NSString *)firstName {","    _firstName = [firstName capitalizedString];","}","","- (void)setLastName:(NSString *)lastName {","    _lastName = [lastName capitalizedString];","}","","- (void)setAge:(NSInteger)age {","    _age = MAX(0, MIN(100, age));  \/\/ Manual clamping","}","","@end","","\/\/ UserDefaults wrapper","@interface AppSettings : NSObject","@property (nonatomic, strong) NSString *username;","@property (nonatomic, strong) NSString *theme;","@property (nonatomic, assign) BOOL notificationsEnabled;","@end","","@implementation AppSettings","","- (NSString *)username {","    return [[NSUserDefaults standardUserDefaults] stringForKey:@\"username\"] ?: @\"\";","}","","- (void)setUsername:(NSString *)username {","    [[NSUserDefaults standardUserDefaults] setObject:username forKey:@\"username\"];","}","","\/\/ Repeat for each property...","","@end"]},{"anchor":"Result-Builders","text":"Result Builders","type":"heading","level":2},{"anchor":"Swift-Domain-Specific-Languages","text":"Swift: Domain-Specific Languages","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["\/\/ Result builder for creating HTML","@resultBuilder","struct HTMLBuilder {","    static func buildBlock(_ components: String...) -> String {","        return components.joined()","    }","    ","    static func buildOptional(_ component: String?) -> String {","        return component ?? \"\"","    }","    ","    static func buildEither(first component: String) -> String {","        return component","    }","    ","    static func buildEither(second component: String) -> String {","        return component","    }","}","","\/\/ HTML DSL","func html(@HTMLBuilder content: () -> String) -> String {","    return \"<html>\\(content())<\/html>\"","}","","func body(@HTMLBuilder content: () -> String) -> String {","    return \"<body>\\(content())<\/body>\"","}","","func h1(_ text: String) -> String {","    return \"<h1>\\(text)<\/h1>\"","}","","func p(_ text: String) -> String {","    return \"<p>\\(text)<\/p>\"","}","","func div(@HTMLBuilder content: () -> String) -> String {","    return \"<div>\\(content())<\/div>\"","}","","\/\/ Usage - reads like HTML structure","let webpage = html {","    body {","        h1(\"Welcome to Swift\")","        div {","            p(\"This is a paragraph.\")","            p(\"This is another paragraph.\")","        }","    }","}","","print(webpage)","\/\/ <html><body><h1>Welcome to Swift<\/h1><div><p>This is a paragraph.<\/p><p>This is another paragraph.<\/p><\/div><\/body><\/html>","","\/\/ Result builder for math expressions","@resultBuilder","struct MathBuilder {","    static func buildBlock(_ numbers: Double...) -> Double {","        return numbers.reduce(0, +)","    }","}","","func calculate(@MathBuilder expression: () -> Double) -> Double {","    return expression()","}","","let result = calculate {","    10.5","    20.3","    5.2","}  \/\/ 36.0"]},{"anchor":"Objective-C-Manual-String-Building","text":"Objective-C: Manual String Building","type":"heading","level":3},{"syntax":"objective-c","type":"codeListing","code":["\/\/ Must manually build strings","- (NSString *)createHTML {","    NSMutableString *html = [NSMutableString stringWithString:@\"<html>\"];","    [html appendString:@\"<body>\"];","    [html appendString:@\"<h1>Welcome to Objective-C<\/h1>\"];","    [html appendString:@\"<div>\"];","    [html appendString:@\"<p>This is a paragraph.<\/p>\"];","    [html appendString:@\"<p>This is another paragraph.<\/p>\"];","    [html appendString:@\"<\/div>\"];","    [html appendString:@\"<\/body>\"];","    [html appendString:@\"<\/html>\"];","    return [html copy];","}"]},{"anchor":"SwiftUI-Integration","text":"SwiftUI Integration","type":"heading","level":2},{"anchor":"Swift-Declarative-UI-with-Modern-Features","text":"Swift: Declarative UI with Modern Features","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["import SwiftUI","","\/\/ Property wrappers for state management","struct ContentView: View {","    @State private var username = \"\"","    @State private var isLoading = false","    @StateObject private var viewModel = UserViewModel()","    ","    var body: some View {","        NavigationView {","            VStack {","                TextField(\"Username\", text: $username)","                    .textFieldStyle(RoundedBorderTextFieldStyle())","                ","                Button(\"Load Profile\") {","                    loadProfile()","                }","                .disabled(username.isEmpty || isLoading)","                ","                if isLoading {","                    ProgressView(\"Loading...\")","                } else {","                    List(viewModel.users, id: \\.id) { user in","                        UserRow(user: user)","                    }","                }","            }","            .padding()","            .navigationTitle(\"Users\")","        }","    }","    ","    \/\/ Async function in SwiftUI","    private func loadProfile() {","        isLoading = true","        ","        Task {","            await viewModel.loadUsers()","            isLoading = false","        }","    }","}","","struct UserRow: View {","    let user: User","    ","    var body: some View {","        HStack {","            AsyncImage(url: user.avatarURL) { image in","                image","                    .resizable()","                    .aspectRatio(contentMode: .fit)","            } placeholder: {","                Rectangle()","                    .foregroundColor(.gray.opacity(0.3))","            }","            .frame(width: 50, height: 50)","            .cornerRadius(25)","            ","            VStack(alignment: .leading) {","                Text(user.name)","                    .font(.headline)","                Text(user.email)","                    .font(.caption)","                    .foregroundColor(.secondary)","            }","            ","            Spacer()","        }","    }","}"]},{"anchor":"Objective-C-UIKit-with-Callbacks","text":"Objective-C: UIKit with Callbacks","type":"heading","level":3},{"syntax":"objective-c","type":"codeListing","code":["@interface ViewController : UIViewController","@property (weak, nonatomic) IBOutlet UITextField *usernameField;","@property (weak, nonatomic) IBOutlet UIButton *loadButton;","@property (weak, nonatomic) IBOutlet UITableView *tableView;","@property (weak, nonatomic) IBOutlet UIActivityIndicatorView *loadingIndicator;","@property (strong, nonatomic) NSArray<User *> *users;","@end","","@implementation ViewController","","- (void)viewDidLoad {","    [super viewDidLoad];","    [self setupUI];","}","","- (void)setupUI {","    self.tableView.dataSource = self;","    self.tableView.delegate = self;","    ","    [self.usernameField addTarget:self","                           action:@selector(textFieldChanged:)","                 forControlEvents:UIControlEventEditingChanged];","}","","- (IBAction)loadButtonTapped:(id)sender {","    [self loadProfile];","}","","- (void)loadProfile {","    [self.loadingIndicator startAnimating];","    self.loadButton.enabled = NO;","    ","    \/\/ Manual callback handling","    [self fetchUsersWithCompletion:^(NSArray<User *> *users, NSError *error) {","        dispatch_async(dispatch_get_main_queue(), ^{","            [self.loadingIndicator stopAnimating];","            self.loadButton.enabled = YES;","            ","            if (users) {","                self.users = users;","                [self.tableView reloadData];","            } else {","                \/\/ Handle error","                [self showErrorAlert:error];","            }","        });","    }];","}","","- (void)textFieldChanged:(UITextField *)textField {","    self.loadButton.enabled = textField.text.length > 0;","}","","\/\/ TableView delegate methods...","- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {","    return self.users.count;","}","","- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {","    \/\/ Manual cell configuration...","    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"UserCell\"];","    User *user = self.users[indexPath.row];","    cell.textLabel.text = user.name;","    cell.detailTextLabel.text = user.email;","    return cell;","}","","@end"]},{"anchor":"Structured-Concurrency","text":"Structured Concurrency","type":"heading","level":2},{"anchor":"Swift-Actor-Model-and-Safe-Concurrency","text":"Swift: Actor Model and Safe Concurrency","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["\/\/ Actor for thread-safe state management","actor UserCache {","    private var cache: [Int: User] = [:]","    ","    func getUser(id: Int) -> User? {","        return cache[id]","    }","    ","    func setUser(_ user: User) {","        cache[user.id] = user","    }","    ","    func clearCache() {","        cache.removeAll()","    }","}","","\/\/ Global actors for UI updates","@MainActor","class UIManager {","    static let shared = UIManager()","    ","    func updateUI() {","        \/\/ Always runs on main thread","        print(\"Updating UI on main thread\")","    }","}","","\/\/ Custom actor for API management","actor APIManager {","    private let session = URLSession.shared","    private var activeRequests: Set<URL> = []","    ","    func fetchData(from url: URL) async throws -> Data {","        \/\/ Prevent duplicate requests","        guard !activeRequests.contains(url) else {","            throw APIError.requestInProgress","        }","        ","        activeRequests.insert(url)","        defer { activeRequests.remove(url) }","        ","        let (data, _) = try await session.data(from: url)","        return data","    }","}","","\/\/ Usage with proper isolation","func loadAndDisplayUser(id: Int) async {","    let cache = UserCache()","    let apiManager = APIManager()","    ","    \/\/ Check cache first","    if let cachedUser = await cache.getUser(id: id) {","        await UIManager.shared.updateUI()","        return","    }","    ","    \/\/ Fetch from API","    do {","        let url = URL(string: \"https:\/\/api.example.com\/users\/\\(id)\")!","        let data = try await apiManager.fetchData(from: url)","        let user = try JSONDecoder().decode(User.self, from: data)","        ","        await cache.setUser(user)","        await UIManager.shared.updateUI()","    } catch {","        print(\"Failed to load user: \\(error)\")","    }","}"]},{"anchor":"Key-Modern-Features-Summary","text":"Key Modern Features Summary","type":"heading","level":2},{"anchor":"Swifts-Cutting-Edge-Capabilities","text":"Swift’s Cutting-Edge Capabilities","type":"heading","level":3},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"Async\/Await","type":"text"}],"type":"strong"},{"text":": Modern concurrency without callback hell","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Property Wrappers","type":"text"}]},{"type":"text","text":": Reusable property behavior"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Result Builders"}]},{"type":"text","text":": Domain-specific language creation"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Actors","type":"text"}],"type":"strong"},{"text":": Safe concurrent programming","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Structured Concurrency"}]},{"type":"text","text":": Predictable async code execution"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"SwiftUI Integration","type":"text"}]},{"text":": Declarative UI with modern patterns","type":"text"}]}]}]},{"anchor":"Migration-Strategy","text":"Migration Strategy","type":"heading","level":3},{"inlineContent":[{"text":"When adopting modern Swift features:","type":"text"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Start with async\/await"}]},{"type":"text","text":": Replace completion handlers gradually"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Identify repeated patterns","type":"text"}],"type":"strong"},{"text":": Create property wrappers for common logic","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Use actors for shared state","type":"text"}],"type":"strong"},{"type":"text","text":": Replace locks and queues"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Embrace SwiftUI"}]},{"type":"text","text":": For new UI development"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Create DSLs with result builders","type":"text"}]},{"text":": For complex configuration patterns","type":"text"}]}]}]},{"inlineContent":[{"type":"text","text":"These modern Swift features represent the future of iOS development, offering safer, more expressive, and more maintainable code patterns that simply aren’t possible in Objective-C."}],"type":"paragraph"}],"kind":"content"}],"sections":[],"identifier":{"url":"doc:\/\/com.example.swiftvsobjc\/documentation\/Swift-vs-Objective-C-Guide\/ModernFeatures","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://com.example.swiftvsobjc/documentation/Swift-vs-Objective-C-Guide":{"identifier":"doc:\/\/com.example.swiftvsobjc\/documentation\/Swift-vs-Objective-C-Guide","type":"topic","kind":"article","role":"collection","title":"Swift vs Objective-C Guide","abstract":[],"url":"\/documentation\/swift-vs-objective-c-guide"}}}